= Email Notification Webhook Service

A lightweight webhook processor for Stalwart MTA

== Features

* Concurrent multi-channel notifications
* Optional authentication using `Authorization` header
* Recipient whitelisting
* Supported channels:
** Telegram Bot
** ntfy.sh
** DingTalk Bot

== Endpoints

== Summary Table

|===
| Method | Path | Description

| POST
| /notify
| Main webhook endpoint

| GET
| /health 
| Health/readiness indicator ({"status":"online"})
|===

== Environment Variables

|===
| Variable | Description

| `AUTH_TOKEN`
| Optional token for webhook authentication (X-Notify-Auth: <token>)

| `TELEGRAM_BOT_TOKEN` / `TELEGRAM_CHAT_ID`
| Enable Telegram notifications

| `NTFY_SERVER` / `NTFY_TOPIC` / `NTFY_TOKEN`
| Enable ntfy notifications

| `DINGTALK_WEBHOOK` / `DINGTALK_SECRET`
| Enable DingTalk notifications

| `ENABLED_CHANNELS`
| Comma-separated list: `tg`, `ntfy`, `ding`

| `ALLOWED_RCPTS`
| Comma-separated whitelist of allowed recipients

| `BIND_ADDR`
| HTTP listen address (default: `:8000`)
|===

== Docker

```bash

docker pull ghcr.io/7a72/mailnotifyd:latest

docker run -p 8000:8000 --env-file env ghcr.io/7a72/mailnotifyd

